<template>
    <!-- <template if:true={showSpin}>
        <lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
    </template> -->
    <div class="model-container slds-is-relative">
        <template if:true={showSpin}>
            <lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
        </template>
        <div class="slds-modal__header">
            <h2 class="slds-text-heading_medium">报销明细</h2>
        </div>
        <div class="slds-modal__content slds-p-around_large">
            <div style="overflow-y: scroll;display: block;height: 300px">
                <table class="slds-table slds-table_fixed-layout slds-table_bordered slds-no-row-hover slds-table_cell-buffer">
                  <thead>
                    <tr class="slds-text-title_caps">
                        <th scope="col" style="width:3.25rem;">
                            <lightning-input type="checkbox" data-field="se" checked={isChecked} onchange={selectAllOrNotSelectAll}>
                            </lightning-input>
                        </th>
                        <th scope="col" style="width:20%;">
                            <div class="slds-truncate" title="Name">Name</div>
                        </th>
                        <th scope="col" style="width:12%;">
                            <div class="slds-truncate" title="Category">Category</div>
                        </th>
                        <th scope="col" style="width:15%;">
                            <div class="slds-truncate" title="Money">Money</div>
                        </th>
        
                        <th scope="col" style="width:15%;">
                            <div class="slds-truncate" title="Status">Status</div>
                        </th>
                    </tr>
                  </thead>
                  <tbody>
                    <template for:each={data} for:item="payment">
                        <tr class="slds-hint-parent" key={payment.id}>
                            <td>
                                <lightning-input type="checkbox" name="checkbox" checked={payment.flag} onchange={handleFieldChange}
                                data-reid={payment.id}>
                                </lightning-input>
                            </td>
                            <td>
                                <div class="slds-truncate" title="">
                                    <lightning-formatted-url value={payment.url} target="_self" label={payment.name}></lightning-formatted-url>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate" title="">
                                    <lightning-formatted-text value={payment.category} ></lightning-formatted-text>
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate" title="">
                                    <lightning-input
                                                    name="money"
                                                    step=".01"
                                                    value={payment.money}
                                                    onchange={handleFieldChange}
                                                    data-reid={payment.id}
                                                    >
                                    </lightning-input>
                                    <!-- <lightning-formatted-text value={payment.money} ></lightning-formatted-text> -->
                                </div>
                            </td>
                            <td>
                                <div class="slds-truncate" title="">
                                    <lightning-input type="checkbox" checked={payment.status} disabled></lightning-input>
                                </div>
                            </td>
                        </tr>
                    </template>
                  </tbody>
                </table>
            </div>
        </div>
        <div class="modal-footer slds-modal__footer slds-size_1-of-1">
            <lightning-button onclick={closeModal} label="取消" variant="neutral"
                        class="slds-var-m-around_x-small">
                    </lightning-button>
            <lightning-button onclick={payRefund} variant="brand" label="确认更改"
            class="slds-var-m-around_x-small">
            </lightning-button>
        </div>
    </div>
</template>